(this["webpackJsonpcalendar-react"]=this["webpackJsonpcalendar-react"]||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),o=a.n(l),c=(a(15),a(9)),i=a(2),s=a(3),m=a(5),d=a(4),u=function(e){var t=e.isDeleteOpen,a=e.eventForDelete,n=e.closeDeleteModal,l=e.deleteEvent;if(!t)return null;var o=a.name,c=a.eventDate,i=a.additionalInfo,s=a.id;return r.a.createElement("div",{className:"modal-delete"},r.a.createElement("button",{className:"modal-delete__icon-close",onClick:n},r.a.createElement("i",{className:"far fa-times-circle"})),r.a.createElement("div",{className:"modal-delete__event"},r.a.createElement("i",{className:"modal-delete__icon-title far fa-calendar-alt"}),r.a.createElement("h1",{className:"modal-delete__title"},o)),r.a.createElement("div",{className:"modal-delete__data"},r.a.createElement("i",{className:"modal-delete__icon-data far fa-clock"}),r.a.createElement("span",{className:"modal-delete__time"},c)),r.a.createElement("div",{className:"modal-delete__description"},r.a.createElement("i",{className:"modal-delete__icon-description far fa-question-circle"}),r.a.createElement("span",{className:"modal-delete__info"},""===i?"No additional information":i)),r.a.createElement("button",{className:"modal-delete__btn-delete-event",onClick:function(){return l(s)}},"Delete Event"))},v=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){t.preventDefault(),e.props.createEvent()},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isModalOpen,a=e.onModalClose,n=e.eventDate,l=e.eventTime,o=e.additionalInfo,c=e.name,i=e.eventColor,s=e.handleChange;return t?r.a.createElement("div",{className:"modal-form"},r.a.createElement("button",{className:"modal-form__icon-close",onClick:a},r.a.createElement("i",{className:"far fa-times-circle"})),r.a.createElement("span",{className:"modal-form__error"}),r.a.createElement("form",{className:"create-event",onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",name:"name",className:"create-event__name",placeholder:"Event",value:c,required:!0,onChange:s}),r.a.createElement("div",{className:"create-event__time"},r.a.createElement("i",{className:"create-event__icon-clock far fa-clock"}),r.a.createElement("input",{className:"calendar-data",type:"date",name:"eventDate",required:!0,value:n,onChange:s}),r.a.createElement("input",{className:"startTime",type:"time",name:"startEvent",step:"900",required:!0,value:l[0],onChange:s}),r.a.createElement("input",{className:"endTime",type:"time",name:"endEvent",step:"900",required:!0,value:l[1],onChange:s})),r.a.createElement("div",{className:"create-event__additional-info"},r.a.createElement("i",{className:"create-event__additional-info-icon fas fa-stream"}),r.a.createElement("textarea",{className:"create-event__additional-info-text",name:"additionalInfo",cols:"30",rows:"5",placeholder:"Additional informations",onChange:s,value:o})),r.a.createElement("div",{className:"create-event__additional"},r.a.createElement("input",{type:"color",name:"eventColor",value:i,onChange:s}),r.a.createElement("button",{className:"create-event__button",type:"submit"},"Create")))):null}}]),a}(n.Component),f=a(1),p=a.n(f),h=function(e,t){for(var a=[],n=e;n<=t;n++)a.push(n);return a},E=function(e){var t=e.getDate(),a=e.getDay();0===a&&(a=7);var n=e.setDate(t-a+1);return new Date(p()(new Date(n)).format("L"))},D=function(e){var t=E(e),a=new Date(p()(t).format("L")).getTime();return h(0,6).map((function(e){return a+864e5*e}))},g=function(e){var t=e.date,a=D(t),n=new Date(a[0]),l=new Date(a[a.length-1]),o=p()(n).format("MMMM"),c=p()(l).format("MMMM"),i=p()(n).format("YYYY"),s=p()(l).format("YYYY"),m=i===s?"".concat(i):"".concat(i," - ").concat(s);return r.a.createElement("span",{className:"header__month"},o===c?"".concat(c," ").concat(m):"".concat(o," - ").concat(c," ").concat(m))},O=function(e){var t=e.nextWeek,a=e.prevWeek,n=e.onToday,l=e.date,o=e.onCreateModalOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button header__create",onClick:o},r.a.createElement("svg",{width:"36",height:"36",viewBox:"0 0 36 36"},r.a.createElement("path",{fill:"#34A853",d:"M16 16v14h4V20z"}),r.a.createElement("path",{fill:"#4285F4",d:"M30 16H20l-4 4h14z"}),r.a.createElement("path",{fill:"#FBBC05",d:"M6 16v4h10l4-4z"}),r.a.createElement("path",{fill:"#EA4335",d:"M20 16V6h-4v14z"}),r.a.createElement("path",{fill:"none",d:"M0 0h36v36H0z"})),"Create"),r.a.createElement("button",{className:"button header__today",onClick:function(){return n(l)}},"Today"),r.a.createElement("button",{className:"change-week-btn",onClick:a},r.a.createElement("i",{className:"header__angle fas fa-angle-left angle-left"})),r.a.createElement("button",{className:"change-week-btn",onClick:t},r.a.createElement("i",{className:"header__angle fas fa-angle-right angle-rigth"})),r.a.createElement(g,{date:l}))},b=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"header__setting-icon"},r.a.createElement("i",{className:"fas fa-sliders-h"})),r.a.createElement("div",{className:"header__setting switch-setting"},r.a.createElement("div",null,r.a.createElement("input",{type:"color",id:"window",name:"window"}),r.a.createElement("label",{htmlFor:"window"},"Main Window ")),r.a.createElement("div",null,r.a.createElement("input",{type:"color",id:"header",name:"header"}),r.a.createElement("label",{htmlFor:"header"},"Header")),r.a.createElement("div",null,r.a.createElement("input",{type:"color",id:"event",name:"event"}),r.a.createElement("label",{htmlFor:"event"},"Events")),r.a.createElement("div",null,r.a.createElement("input",{type:"color",id:"borderEvent",name:"borderEvent"}),r.a.createElement("label",{htmlFor:"borderEvent"},"Border Events")),r.a.createElement("div",null,r.a.createElement("input",{type:"color",id:"textEvents",name:"textEvents"}),r.a.createElement("label",{htmlFor:"textEvents"},"Text Events")),r.a.createElement("div",{className:"header__setting-btn"},r.a.createElement("button",{className:"header-btn btn-setting"},"Save"),r.a.createElement("button",{className:"header-btn btn-setting-default"},"Default"))))},M=function(e){var t=e.nextWeek,a=e.prevWeek,n=e.onToday,l=e.date,o=e.onCreateModalOpen;return r.a.createElement("div",{className:"header__top-info"},r.a.createElement(O,{nextWeek:t,prevWeek:a,onToday:n,date:l,onCreateModalOpen:o}),r.a.createElement(b,null))},_=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=["Mon","Thu","Wen","Tue","Fri","Sat","Sun"].map((function(e){return r.a.createElement("span",{key:e,className:"navigation__days"},e)}));return r.a.createElement("div",{className:"week"},e)}}]),a}(n.PureComponent),k=a(6),y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=new Intl.DateTimeFormat("en",{timeZone:"UTC",hour:"2-digit",minute:"2-digit",hour12:!1}).format(new Date).split(":"),t=Object(k.a)(e,1)[0],a=((new Date).getHours()-+t).toString(),n="GMT +".concat(a.length<2?a.padStart(2,0):a,":00");return r.a.createElement("span",{className:"greenwich-zone"},n)}}]),a}(n.PureComponent),N=function(e){var t=e.date,a=E(t),n=new Date(p()(a).format("L")).getTime(),l=h(0,6).map((function(e){return n+864e5*e})).map((function(e){var t=new Date(p()(new Date).format("L")).getTime();return r.a.createElement("span",{key:e,className:t===e?"curent-date-of-week date-today":"curent-date-of-week"},new Date(e).getDate())}));return r.a.createElement("div",{className:"date-of-month"},l)},w=function(e){var t=e.date;return r.a.createElement("nav",{className:"navigation"},r.a.createElement(_,null),r.a.createElement(N,{date:t}),r.a.createElement(y,null))},C=function(e){var t=e.date,a=e.nextWeek,n=e.prevWeek,l=e.onToday,o=e.onCreateModalOpen;return r.a.createElement("header",{className:"header"},r.a.createElement(M,{nextWeek:a,prevWeek:n,onToday:l,date:t,onCreateModalOpen:o}),r.a.createElement(w,{date:t}))},T=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=h(1,24).map((function(e){return r.a.createElement("li",{className:"time-in-day",key:e},1===e.toString().length?"0".concat(e,":00"):"".concat(e,":00"))}));return r.a.createElement("aside",null,r.a.createElement("ul",{className:"time"},e))}}]),a}(n.PureComponent),S=function(e){var t=Object(k.a)(e.eventTime,2),a=t[0],n=t[1],r=a.split(":").map((function(e){return+e})),l=Object(k.a)(r,2),o=l[0],c=l[1],i=n.split(":").map((function(e){return+e})),s=Object(k.a)(i,2),m=s[0],d=s[1];return m-o===0?{height:"".concat(d-c,"px"),top:"".concat(c,"px"),backgroundColor:"".concat(e.eventColor)}:m-o===1&&c>d?{height:"".concat((d+=60)-c,"px"),top:"".concat(c,"px"),backgroundColor:"".concat(e.eventColor)}:{height:"".concat(60*(m-o)+(d-c),"px"),top:"".concat(c,"px"),backgroundColor:"".concat(e.eventColor)}},j=function(e){var t=e.events,a=e.onDeleteModalOpen,n=t.map((function(e){var t=S(e);return r.a.createElement("div",{key:e.id,"data-id":"11",className:"event",style:t,onClick:function(t){return a(t,e)}},r.a.createElement("span",null,e.name),r.a.createElement("span",null,e.eventTime[0]," - ",e.eventTime[1]),r.a.createElement("span",{className:"event__description"},e.additionalInfo))}));return r.a.createElement(r.a.Fragment,null,n)},Y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={hourTime:(new Date).getHours(),minutesTime:(new Date).getMinutes()},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timerId=setInterval((function(){e.setState({hourTime:(new Date).getHours(),minutesTime:(new Date).getMinutes()})}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){var e=this.state,t=e.hourTime,a=e.minutesTime,n="".concat(60*t+a,"px");return r.a.createElement("span",{className:"line-now",style:{top:n}},r.a.createElement("span",{className:"line-now__time"},String(t).padStart(2,"0"),":",String(a).padStart(2,"0")))}}]),a}(n.Component),x=function(e){var t=e.dayOfWeek,a=e.event,n=e.day,l=e.onDeleteModalOpen,o=e.on\u0421ellModalOpen,c=p()(new Date).format("YYYY-MM-DD"),i=n===+p()(c).format("x"),s=h(0,23).map((function(e){var t=a.filter((function(t){return+t.eventTime[0].split(":")[0]===e}));return r.a.createElement("div",{key:e,className:"row-hour","data-hour":e,onClick:function(){return o(n,e)}},t.length>0&&r.a.createElement(j,{events:t,onDeleteModalOpen:l}))}));return r.a.createElement("div",{className:"day-by-hours","data-date-of-day":t},s,i&&r.a.createElement(Y,null))},W=function(e){var t=e.date,a=e.events,n=e.onDeleteModalOpen,l=e.on\u0421ellModalOpen,o=D(t).map((function(e){var t=a.filter((function(t){return e===new Date(t.eventDate).getTime()}));return r.a.createElement(x,{key:e,dayOfWeek:e,"on\u0421ellModalOpen":l,day:e,event:t,onDeleteModalOpen:n})}));return r.a.createElement("section",{className:"current-week"},o)},F=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.date,a=e.onDeleteModalOpen,n=e.events,l=e.on\u0421ellModalOpen;return r.a.createElement("main",{className:"days"},r.a.createElement(T,null),r.a.createElement(W,{date:t,"on\u0421ellModalOpen":l,events:n,onDeleteModalOpen:a}))}}]),a}(n.Component),I="https://5e6b6f91d708a000160b48ba.mockapi.io/api/v1/events",H=function(){return fetch(I).then((function(e){if(e.ok)return e.json()})).then((function(e){return e}))},z=function(e){return fetch("".concat(I,"/").concat(e),{method:"DELETE"}).then((function(e){if(!e.ok)throw new Error("Failed to delete task")}))},q=function(e){return fetch(I,{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw new Error("Faild to create task")}))},A=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={date:new Date,name:"",eventDate:null,eventTime:[],eventColor:"#47d6dc",additionalInfo:"",isModalOpen:!1,isDeleteOpen:!1,eventForDelete:null,events:[]},e.createEvent=function(){var t=e.state,a=t.eventDate,n=t.eventTime,r=t.additionalInfo,l=t.name,o=t.eventColor,c={eventDate:p()(a).format("MM-DD-YYYY"),eventTime:n,additionalInfo:r,name:l,eventColor:o};q(c).then((function(){return e.setState({isModalOpen:!1}),e.fetchEvents()}))},e.nextWeek=function(){var t=e.state.date;e.setState({date:new Date(t.setDate(t.getDate()+7))})},e.prevWeek=function(){var t=e.state.date;e.setState({date:new Date(t.setDate(t.getDate()-7))})},e.onToday=function(t){E(new Date).getTime()!==E(t).getTime()&&e.setState({date:new Date})},e.onCreateModalOpen=function(){var t="".concat(((new Date).getHours()+1).toString().padStart(2,"0"),":00"),a="".concat(((new Date).getHours()+2).toString().padStart(2,"0"),":00"),n=p()(new Date).format("YYYY-MM-DD");e.setState({isModalOpen:!0,eventDate:n,name:"",additionalInfo:"",eventTime:[t,a]})},e.onDeleteModalOpen=function(t,a){t.stopPropagation(),e.setState({isDeleteOpen:!0,eventForDelete:a})},e.onModalClose=function(){e.setState({isModalOpen:!1})},e.closeDeleteModal=function(){e.setState({isDeleteOpen:!1})},e.deleteEvent=function(t){z(t).then((function(){return e.setState({isDeleteOpen:!1}),e.fetchEvents()}))},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;if("startEvent"===n){var l=r;return e.state.eventTime.splice(0,1,l),void e.setState({eventTime:e.state.eventTime})}if("endEvent"===n){var o=r;return e.state.eventTime.splice(1,1,o),void e.setState({eventTime:e.state.eventTime})}e.setState(Object(c.a)({},n,r))},e.on\u0421ellModalOpen=function(t,a){var n=(new Date).getHours(),r=new Date(p()(new Date).format("MM-DD-YYYY")).getTime();if(!(r>t||r===t&&n>=a)){var l="".concat(a.toString().padStart(2,"0"),":00"),o="".concat((a+1).toString().padStart(2,"0"),":00"),c=p()(new Date(t)).format("YYYY-MM-DD");e.setState({isModalOpen:!0,eventDate:c,name:"",additionalInfo:"",eventTime:[l,o]})}},e.fetchEvents=function(){H().then((function(t){return e.setState({events:t})}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchEvents()}},{key:"render",value:function(){return r.a.createElement("div",{className:"calendar"},r.a.createElement(u,{isDeleteOpen:this.state.isDeleteOpen,eventForDelete:this.state.eventForDelete,closeDeleteModal:this.closeDeleteModal,deleteEvent:this.deleteEvent}),r.a.createElement(v,{isModalOpen:this.state.isModalOpen,onModalClose:this.onModalClose,name:this.state.name,eventDate:this.state.eventDate,eventTime:this.state.eventTime,additionalInfo:this.state.additionalInfo,handleChange:this.handleChange,eventColor:this.state.eventColor,createEvent:this.createEvent}),r.a.createElement(C,{date:this.state.date,nextWeek:this.nextWeek,prevWeek:this.prevWeek,onToday:this.onToday,onCreateModalOpen:this.onCreateModalOpen}),r.a.createElement(F,{date:this.state.date,"on\u0421ellModalOpen":this.on\u0421ellModalOpen,onDeleteModalOpen:this.onDeleteModalOpen,events:this.state.events}))}}]),a}(n.Component),B=function(){return r.a.createElement(A,null)};o.a.render(r.a.createElement(B,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.504cf0bb.chunk.js.map